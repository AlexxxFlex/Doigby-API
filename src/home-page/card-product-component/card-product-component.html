<li [class.out-of-stock]="!isAvailable()" (click)="onCardClick()" style="cursor: pointer;">
  @if (product.image) {
    <img [src]="product.image" [alt]="product.name" />
  } @else {
    <div class="no-image-placeholder">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
        <circle cx="8.5" cy="8.5" r="1.5"></circle>
        <polyline points="21 15 16 10 5 21"></polyline>
      </svg>
    </div>
  }
  
  @if (getStockBadge()) {
    <span class="stock-badge">{{ getStockBadge() }}</span>
  }
  
  <div class="product-info">
    <p class="product-category">{{ product.category.name }}</p>
    <h4 class="product-name">{{ product.name }}</h4>
    <p class="product-price">{{ product.basePrice | currency:'EUR':'symbol':'1.2-2':'fr-FR' }}</p>
    
    <button 
      class="add-to-cart-btn" 
      (click)="onAddToCart($event)"
      [disabled]="!isAvailable()">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="9" cy="21" r="1"></circle>
        <circle cx="20" cy="21" r="1"></circle>
        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
      </svg>
      {{ isAvailable() ? 'Ajouter au panier' : 'Indisponible' }}
    </button>
  </div>
</li>